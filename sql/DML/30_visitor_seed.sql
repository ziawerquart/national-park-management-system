-- 游客管理系统测试数据
-- 适用MySQL 8.0.43，字符集utf8mb4
-- 可重复执行，不报错

USE visitor_management_system;

-- 清空现有数据（按依赖顺序）
DELETE FROM VisitorTrajectory;
DELETE FROM Reservation;
DELETE FROM Visitor;
DELETE FROM FlowControl;

-- 插入流量控制表数据
INSERT INTO FlowControl (region_id, daily_capacity, current_visitor_count, warning_threshold, flow_status) VALUES
('R001', 1000, 0, 800, 'NORMAL'),
('R002', 800, 0, 600, 'NORMAL'),
('R003', 1200, 0, 1000, 'NORMAL'),
('R004', 500, 0, 400, 'NORMAL'),
('R005', 1500, 0, 1200, 'NORMAL'),
('R006', 700, 0, 550, 'NORMAL'),
('R007', 900, 0, 700, 'NORMAL'),
('R008', 600, 0, 450, 'NORMAL'),
('R009', 1100, 0, 900, 'NORMAL'),
('R010', 1300, 0, 1000, 'NORMAL'),
('R011', 400, 0, 300, 'NORMAL'),
('R012', 750, 0, 600, 'NORMAL'),
('R013', 950, 0, 800, 'NORMAL'),
('R014', 550, 0, 450, 'NORMAL'),
('R015', 1400, 0, 1100, 'NORMAL'),
('R016', 650, 0, 500, 'NORMAL'),
('R017', 850, 0, 700, 'NORMAL'),
('R018', 1050, 0, 850, 'NORMAL'),
('R019', 450, 0, 350, 'NORMAL'),
('R020', 1250, 0, 1000, 'NORMAL');

-- 插入游客信息表数据
INSERT INTO Visitor (visitor_id, visitor_name, id_number, contact_number, entry_time, exit_time, entry_method) VALUES
('V001', '张三', '110101199001011234', '13800138001', '2024-01-01', '2024-01-02', 'ONLINE'),
('V002', '李四', '110101199002022345', '13800138002', '2024-01-03', '2024-01-04', 'ONLINE'),
('V003', '王五', '110101199003033456', '13800138003', '2024-01-05', '2024-01-06', 'OFFLINE'),
('V004', '赵六', '110101199004044567', '13800138004', '2024-01-07', '2024-01-08', 'ONLINE'),
('V005', '钱七', '110101199005055678', '13800138005', '2024-01-09', '2024-01-10', 'OFFLINE'),
('V006', '孙八', '110101199006066789', '13800138006', '2024-01-11', '2024-01-12', 'ONLINE'),
('V007', '周九', '110101199007077890', '13800138007', '2024-01-13', '2024-01-14', 'OFFLINE'),
('V008', '吴十', '110101199008088901', '13800138008', '2024-01-15', '2024-01-16', 'ONLINE'),
('V009', '郑十一', '110101199009099012', '13800138009', '2024-01-17', '2024-01-18', 'OFFLINE'),
('V010', '王十二', '110101199010100123', '13800138010', '2024-01-19', '2024-01-20', 'ONLINE'),
('V011', '李十三', '110101199011111234', '13800138011', '2024-01-21', '2024-01-22', 'OFFLINE'),
('V012', '张十四', '110101199012122345', '13800138012', '2024-01-23', '2024-01-24', 'ONLINE'),
('V013', '刘十五', '110101199101133456', '13800138013', '2024-01-25', '2024-01-26', 'OFFLINE'),
('V014', '陈十六', '110101199102144567', '13800138014', '2024-01-27', '2024-01-28', 'ONLINE'),
('V015', '杨十七', '110101199103155678', '13800138015', '2024-01-29', '2024-01-30', 'OFFLINE'),
('V016', '黄十八', '110101199104166789', '13800138016', '2024-02-01', '2024-02-02', 'ONLINE'),
('V017', '林十九', '110101199105177890', '13800138017', '2024-02-03', '2024-02-04', 'OFFLINE'),
('V018', '何二十', '110101199106188901', '13800138018', '2024-02-05', '2024-02-06', 'ONLINE'),
('V019', '高二十一', '110101199107199012', '13800138019', '2024-02-07', '2024-02-08', 'OFFLINE'),
('V020', '马二十二', '110101199108200123', '13800138020', '2024-02-09', '2024-02-10', 'ONLINE'),
('V021', '朱二十三', '110101199109211234', '13800138021', '2024-02-11', '2024-02-12', 'OFFLINE'),
('V022', '罗二十四', '110101199110222345', '13800138022', '2024-02-13', '2024-02-14', 'ONLINE'),
('V023', '梁二十五', '110101199111233456', '13800138023', '2024-02-15', '2024-02-16', 'OFFLINE'),
('V024', '宋二十六', '110101199112244567', '13800138024', '2024-02-17', '2024-02-18', 'ONLINE'),
('V025', '唐二十七', '110101199201255678', '13800138025', '2024-02-19', '2024-02-20', 'OFFLINE'),
('V026', '冯二十八', '110101199202266789', '13800138026', '2024-02-21', '2024-02-22', 'ONLINE'),
('V027', '韩二十九', '110101199203277890', '13800138027', '2024-02-23', '2024-02-24', 'OFFLINE'),
('V028', '邓三十', '110101199204288901', '13800138028', '2024-02-25', '2024-02-26', 'ONLINE'),
('V029', '曹三十一', '110101199205299012', '13800138029', '2024-02-27', '2024-02-28', 'OFFLINE'),
('V030', '彭三十二', '110101199206300123', '13800138030', '2024-03-01', '2024-03-02', 'ONLINE');

-- 插入预约信息表数据
INSERT INTO Reservation (reservation_id, visitor_id, reservation_date, entry_time_slot, group_size, reservation_status, ticket_amount, payment_status) VALUES
('R00001', 'V001', '2024-01-01', '09:00-10:00', 2, 'CONFIRMED', 120.00, 'PAID'),
('R00002', 'V002', '2024-01-03', '10:00-11:00', 1, 'CONFIRMED', 60.00, 'PAID'),
('R00003', 'V003', '2024-01-05', '11:00-12:00', 3, 'PENDING', 180.00, 'UNPAID'),
('R00004', 'V004', '2024-01-07', '12:00-13:00', 2, 'CONFIRMED', 120.00, 'PAID'),
('R00005', 'V005', '2024-01-09', '13:00-14:00', 1, 'CANCELLED', 60.00, 'REFUNDED'),
('R00006', 'V006', '2024-01-11', '14:00-15:00', 4, 'CONFIRMED', 240.00, 'PAID'),
('R00007', 'V007', '2024-01-13', '15:00-16:00', 2, 'CONFIRMED', 120.00, 'PAID'),
('R00008', 'V008', '2024-01-15', '09:00-10:00', 1, 'CONFIRMED', 60.00, 'PAID'),
('R00009', 'V009', '2024-01-17', '10:00-11:00', 3, 'PENDING', 180.00, 'UNPAID'),
('R00010', 'V010', '2024-01-19', '11:00-12:00', 2, 'CONFIRMED', 120.00, 'PAID'),
('R00011', 'V011', '2024-01-21', '12:00-13:00', 1, 'CONFIRMED', 60.00, 'PAID'),
('R00012', 'V012', '2024-01-23', '13:00-14:00', 5, 'CONFIRMED', 300.00, 'PAID'),
('R00013', 'V013', '2024-01-25', '14:00-15:00', 2, 'PENDING', 120.00, 'UNPAID'),
('R00014', 'V014', '2024-01-27', '15:00-16:00', 1, 'CONFIRMED', 60.00, 'PAID'),
('R00015', 'V015', '2024-01-29', '09:00-10:00', 3, 'CONFIRMED', 180.00, 'PAID'),
('R00016', 'V016', '2024-02-01', '10:00-11:00', 2, 'CONFIRMED', 120.00, 'PAID'),
('R00017', 'V017', '2024-02-03', '11:00-12:00', 1, 'CANCELLED', 60.00, 'REFUNDED'),
('R00018', 'V018', '2024-02-05', '12:00-13:00', 4, 'CONFIRMED', 240.00, 'PAID'),
('R00019', 'V019', '2024-02-07', '13:00-14:00', 2, 'CONFIRMED', 120.00, 'PAID'),
('R00020', 'V020', '2024-02-09', '14:00-15:00', 1, 'CONFIRMED', 60.00, 'PAID'),
('R00021', 'V021', '2024-02-11', '15:00-16:00', 3, 'PENDING', 180.00, 'UNPAID'),
('R00022', 'V022', '2024-02-13', '09:00-10:00', 2, 'CONFIRMED', 120.00, 'PAID'),
('R00023', 'V023', '2024-02-15', '10:00-11:00', 1, 'CONFIRMED', 60.00, 'PAID'),
('R00024', 'V024', '2024-02-17', '11:00-12:00', 5, 'CONFIRMED', 300.00, 'PAID'),
('R00025', 'V025', '2024-02-19', '12:00-13:00', 2, 'PENDING', 120.00, 'UNPAID'),
('R00026', 'V026', '2024-02-21', '13:00-14:00', 1, 'CONFIRMED', 60.00, 'PAID'),
('R00027', 'V027', '2024-02-23', '14:00-15:00', 3, 'CONFIRMED', 180.00, 'PAID'),
('R00028', 'V028', '2024-02-25', '15:00-16:00', 2, 'CONFIRMED', 120.00, 'PAID'),
('R00029', 'V029', '2024-02-27', '09:00-10:00', 1, 'CANCELLED', 60.00, 'REFUNDED'),
('R00030', 'V030', '2024-03-01', '10:00-11:00', 4, 'CONFIRMED', 240.00, 'PAID');

-- 插入游客轨迹表数据
INSERT INTO VisitorTrajectory (trajectory_id, visitor_id, location_time, longitude, latitude, region_id, is_out_of_route) VALUES
('T00001', 'V001', '2024-01-01 10:00:00', 116.4074, 39.9042, 'R001', 0),
('T00002', 'V001', '2024-01-01 11:00:00', 116.4080, 39.9050, 'R002', 0),
('T00003', 'V001', '2024-01-01 12:00:00', 116.4085, 39.9055, 'R003', 1),
('T00004', 'V002', '2024-01-03 10:30:00', 116.4100, 39.9100, 'R001', 0),
('T00005', 'V002', '2024-01-03 11:30:00', 116.4105, 39.9105, 'R004', 0),
('T00006', 'V003', '2024-01-05 11:15:00', 116.4120, 39.9120, 'R005', 1),
('T00007', 'V003', '2024-01-05 12:15:00', 116.4125, 39.9125, 'R006', 0),
('T00008', 'V004', '2024-01-07 12:30:00', 116.4140, 39.9140, 'R007', 0),
('T00009', 'V004', '2024-01-07 13:30:00', 116.4145, 39.9145, 'R008', 0),
('T00010', 'V005', '2024-01-09 13:45:00', 116.4160, 39.9160, 'R009', 1),
('T00011', 'V006', '2024-01-11 14:00:00', 116.4180, 39.9180, 'R010', 0),
('T00012', 'V006', '2024-01-11 15:00:00', 116.4185, 39.9185, 'R001', 0),
('T00013', 'V007', '2024-01-13 15:15:00', 116.4200, 39.9200, 'R002', 1),
('T00014', 'V008', '2024-01-15 16:00:00', 116.4220, 39.9220, 'R003', 0),
('T00015', 'V009', '2024-01-17 09:30:00', 116.4240, 39.9240, 'R004', 0),
('T00016', 'V009', '2024-01-17 10:30:00', 116.4245, 39.9245, 'R005', 1),
('T00017', 'V010', '2024-01-19 11:00:00', 116.4260, 39.9260, 'R006', 0),
('T00018', 'V011', '2024-01-21 12:00:00', 116.4280, 39.9280, 'R007', 0),
('T00019', 'V012', '2024-01-23 13:00:00', 116.4300, 39.9300, 'R008', 1),
('T00020', 'V012', '2024-01-23 14:00:00', 116.4305, 39.9305, 'R009', 0),
('T00021', 'V013', '2024-01-25 15:00:00', 116.4320, 39.9320, 'R010', 0),
('T00022', 'V014', '2024-01-27 16:00:00', 116.4340, 39.9340, 'R001', 0),
('T00023', 'V015', '2024-01-29 09:45:00', 116.4360, 39.9360, 'R002', 1),
('T00024', 'V016', '2024-02-01 10:45:00', 116.4380, 39.9380, 'R003', 0),
('T00025', 'V017', '2024-02-03 11:45:00', 116.4400, 39.9400, 'R004', 0),
('T00026', 'V018', '2024-02-05 12:45:00', 116.4420, 39.9420, 'R005', 1),
('T00027', 'V018', '2024-02-05 13:45:00', 116.4425, 39.9425, 'R006', 0),
('T00028', 'V019', '2024-02-07 14:45:00', 116.4440, 39.9440, 'R007', 0),
('T00029', 'V020', '2024-02-09 15:45:00', 116.4460, 39.9460, 'R008', 0),
('T00030', 'V021', '2024-02-11 16:45:00', 116.4480, 39.9480, 'R009', 1),
('T00031', 'V022', '2024-02-13 09:15:00', 116.4500, 39.9500, 'R010', 0),
('T00032', 'V023', '2024-02-15 10:15:00', 116.4520, 39.9520, 'R001', 0),
('T00033', 'V024', '2024-02-17 11:15:00', 116.4540, 39.9540, 'R002', 1),
('T00034', 'V024', '2024-02-17 12:15:00', 116.4545, 39.9545, 'R003', 0),
('T00035', 'V025', '2024-02-19 13:15:00', 116.4560, 39.9560, 'R004', 0),
('T00036', 'V026', '2024-02-21 14:15:00', 116.4580, 39.9580, 'R005', 0),
('T00037', 'V027', '2024-02-23 15:15:00', 116.4600, 39.9600, 'R006', 1),
('T00038', 'V028', '2024-02-25 16:15:00', 116.4620, 39.9620, 'R007', 0),
('T00039', 'V029', '2024-02-27 09:25:00', 116.4640, 39.9640, 'R008', 0),
('T00040', 'V030', '2024-03-01 10:25:00', 116.4660, 39.9660, 'R009', 1);

-- 脚本执行完成提示
SELECT '✅ 游客管理系统测试数据插入完成！' AS '执行结果';