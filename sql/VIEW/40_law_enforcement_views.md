# 执法监管业务线视图设计说明文档
## 文档信息
- 文件名：40_law_enforcement_views.sql
- 所属业务：执法监管（Law Enforcement）
- 适配库表：IllegalBehaviorRecord、LawEnforcementOfficer、VideoMonitorPoint、Region、LawEnforcementDispatch
- 字符集：utf8mb4

## 一、视图清单及适用范围
### ✅ 视图1：v_illegal_behavior_detail（非法行为记录详情视图）
#### 核心功能
整合违规案件全链路数据，将「违规记录、监控点、执法人员、所属区域」4表核心字段合并，实现单视图一站式查询案件完整信息，无需手动多表关联。
#### 适用范围
1. 执法人员日常案件核查、详情查阅；
2. 管理员案件台账导出、案件信息可视化展示；
3. 办案过程溯源，快速关联案件对应监控点、执法负责人；
4. 高频场景：按案件ID/区域/处理状态精准查询案件全貌。

### ✅ 视图2：v_law_office_workload（执法人员工作量统计视图）
#### 核心功能
按执法人员维度聚合统计，输出「总办案数、待处理数、处理中数、已结案数」4类核心指标，直观展示人员工作饱和度。
#### 适用范围
1. 管理端：执法人员月度/季度工作考核、工作量排行；
2. 调度端：案件分配时的人员负载评估，优先分配给低负载人员；
3. 分析端：各部门执法效率对比、人员工作能力评估。

### ✅ 视图3：v_region_case_stat（区域案件统计视图）
#### 核心功能
按保护区区域维度聚合，输出「区域案件总数、最后案发时间、高发违规类型」，定位案件高发区域与高发行为。
#### 适用范围
1. 防控端：核心保护区/缓冲区案件防控重点规划；
2. 管理端：区域执法资源调配，高发区域增派人员/设备；
3. 分析端：区域案件趋势分析、违规行为特征挖掘。

### ✅ 视图4：v_dispatch_efficiency（执法调度效率视图）
#### 核心功能
整合调度记录与案件、人员数据，自动计算「响应时长、办结时长」，量化评估执法调度效率与人员办案速度。
#### 适用范围
1. 考核端：执法人员响应速度、办案效率考核；
2. 优化端：调度流程瓶颈分析，响应超时/办结超时预警；
3. 管理端：执法调度工作成效评估、流程优化依据。

## 二、视图设计原则
1. 业务导向：所有视图基于执法监管核心场景设计，无冗余字段；
2. 性能优先：仅关联业务必需表，聚合统计仅保留核心指标；
3. 易用性：字段命名语义化，排序规则贴合业务查询习惯；
4. 兼容性：兼容MySQL8.0+版本，适配现有库表外键约束与枚举值规则。