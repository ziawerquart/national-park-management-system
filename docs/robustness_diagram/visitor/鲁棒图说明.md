

### 1️⃣ 鲁棒图说明一

**Submit Reservation（游客提交预约）**

#### 用例说明

本鲁棒图描述了游客提交预约请求的业务过程。该用例的主要目标是将游客选择的预约信息录入系统，经过系统验证后生成预约记录，并为游客提供确认信息。

#### 参与对象说明

* **Actor：Visitor**
  游客，负责选择入园时段、预约人数并提交预约信息。

* **Boundary：Reservation System Interface**
  预约系统界面，用于录入游客的预约信息，如预约日期、时段、人数等。

* **Controller：Submit Reservation Controller**
  提交预约控制器，负责接收游客提交的预约数据并协调数据存储操作。

* **Entity：Reservation Record**
  预约记录实体，表示数据库中的预约记录表。存储游客的预约信息。

#### 业务流程说明

1. 游客在预约系统界面输入预约数据。
2. 系统将预约数据提交给提交控制器。
3. 控制器将数据写入预约记录实体，并生成新的预约记录。
4. 系统在插入数据时将预约状态初始化为 `status = 'pending'`，表示预约尚未确认。
5. 系统返回预约成功信息，完成该用例。

#### 状态变化说明

* 新建预约记录：
  `status：NULL → 'pending'`

---

### 2️⃣ 鲁棒图说明二

**Verify Visitor Identity（核验游客身份）**

#### 用例说明

本鲁棒图描述了游客入园时，系统管理员对游客身份信息进行核验的业务过程。该用例的目标是通过系统对游客身份进行验证，确保其具有合法入园资格。

#### 参与对象说明

* **Actor：Visitor**
  游客，提交入园时需要核验的身份证明信息。

* **Boundary：Visitor Verification Interface**
  游客身份核验界面，用于录入游客的身份证号、联系方式等信息。

* **Controller：Verify Identity Controller**
  身份核验控制器，负责接收游客提交的身份数据，并与数据库中的游客信息进行匹配验证。

* **Entity：Visitor Database**
  游客数据库实体，存储所有游客的基本信息，用于身份验证。

#### 业务流程说明

1. 游客在入园时，提供身份证明信息，系统通过身份核验界面收集这些信息。
2. 系统将游客提供的信息提交给核验控制器。
3. 核验控制器根据数据库中的游客信息执行匹配，确认游客身份。
4. 核验成功后，系统将游客身份状态标记为 `status = 'verified'`，允许游客入园。
5. 系统返回身份验证成功信息，游客可以顺利入园。

#### 状态变化说明

* 身份核验通过：
  `status：NULL → 'verified'`

---

### 3️⃣ 鲁棒图说明三

**Manage Flow Control（管理流量控制）**

#### 用例说明

本鲁棒图描述了系统管理员在游客入园后，系统根据实时流量信息控制公园内的游客流量的业务过程。该用例的目标是通过监控游客数量，确保公园内的游客数量不超过预设的承载能力，防止过度拥挤。

#### 参与对象说明

* **Actor：SystemAdmin**
  系统管理员，负责管理流量控制、调整流量策略并作出相应处理。

* **Boundary：Flow Control Interface**
  流量控制界面，实时展示公园内游客数量、流量状态等信息，允许管理员对流量进行调整。

* **Controller：Flow Control Controller**
  流量控制控制器，负责监控游客流量，并根据流量数据采取限流措施或发出预警。

* **Entity：Flow Control System**
  流量控制系统实体，记录公园内各个区域的游客数量及承载量，并实时更新流量数据。

#### 业务流程说明

1. 系统管理员通过流量控制界面实时查看游客流量数据。
2. 流量控制系统根据游客数量与最大承载量进行对比，判断是否需要进行限流。
3. 如果当前游客数量超过预警阈值，流量控制控制器会启动限流措施或发出警报。
4. 系统更新流量状态，并将状态信息返回给系统管理员。
5. 系统管理员根据流量控制策略调整入园人数或采取其他措施，确保游客流量在安全范围内。

#### 状态变化说明

* 流量状态变化：
  `flow_status：'normal' → 'warning' → 'limit'`

---

### 总结

这三个鲁棒图分别描述了不同的业务场景：

1. **Submit Reservation**（提交预约）：游客提交预约数据，系统生成预约记录并初始化状态为“待确认”。
2. **Verify Visitor Identity**（核验游客身份）：系统管理员核验游客身份，确保游客符合入园条件，状态更新为“已验证”。
3. **Manage Flow Control**（管理流量控制）：系统管理员实时监控游客流量，根据流量状态决定是否采取限流措施，状态从“正常”到“预警”或“限流”进行更新。

