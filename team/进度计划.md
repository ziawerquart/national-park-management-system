
> ⚠️ 说明：
> - 每个人都有**数据库设计“硬任务”**，不是只做 PPT
> - 业务背景基于 **国家公园智慧管理系统**

---

# 一、5 人角色总览

| 姓名    | 职位  | 负责业务线          | 小组职责                      | 个人必须完成的技术内容（符合个人报告模板要求）                                        |
| ----- | --- | -------------- | ------------------------- | -------------------------------------------------------------- |
| **A** | 组长  | **生物多样性监测业务线** | 项目管理、GitHub 管理、全局 UML类图整合 | 需求分析、UML类图；3–5个表的DDL、SQL；视图、触发器/存储过程；持久层python代码；GitHub 工程管理总结 |
| **B** | 组员  | **生态环境监测业务线**  | 检查关系模式                    | 同上（按个人业务线做完整一套）                                                |
| **C** | 组员  | **游客智能管理业务线**  | 检查数据字典                    | 同上（按个人业务线做完整一套）                                                |
| **D** | 组员  | **执法监管业务线**    | 数据库安全设计                   | 同上（按个人业务线做完整一套）                                                |
| **E** | 组员  | **科研数据支撑业务线**  | 完成小组报告、答辩PPT              | 同上（按个人业务线做完整一套）                                                |
> ✔ 每人：
> 
> - 都有 **需求分析 + E-R + 表设计 + SQL**
>     
> - 都能在答辩中清楚讲“我这条业务线的数据怎么设计的”
>     

---

# 二、详细任务时间轴

---
## 🟩 第一阶段（Day 1–2） 需求分析 + 概念结构（UML类图）
### ***对应小组报告中的二、三***

### A（生物多样性监测业务线）
1. 做**用例图+鲁棒图**
2. 做 **生物多样性监测 数据字典
3. 画 **生物多样性监测 UML类图**
    1. 物种
    2. 栖息地
    3. 监测记录
4. 总结全局UML类图
---
### B（生态环境监测业务线）
1. 做用例图+鲁棒图
2. 做数据字典
3. 画UML类图：
    1. 监测指标
    2. 监测设备
    3. 环境监测数据
4. 明确异常数据关系
    
---
### C（游客智能管理业务线）
1. 做用例图+鲁棒图
2. 做数据字典
3. 画 UML类图：
    1. 游客
    2. 预约记录
    3. 游客轨迹
    4. 流量控制
---

### D（执法监管业务线）
1. 做用例图+鲁棒图
2. 做数据字典
3. 画 UML类图：
    1. 非法行为记录
    2. 执法人员
    3. 执法调度
    4. 视频监控点
    
### E（科研数据支撑业务线）
1. 做用例图+鲁棒图
2. 做数据字典
3. 画 **科研业务UML类图
    1. 科研项目
    2. 采集记录
    3. 科研成果


### 分工重点&整体流程
#### 第一阶段
**A**
确定字段名称（使用英文）

#### 第二阶段
**A/ B / C / D / E**
- 各自完成：
    1. 各自业务的用例图+文字说明
    2. 各自业务的鲁棒图+文字说明
    3. 各自业务的数据字典
    4. 各自业务的局部UML类图+文字说明

#### 第三阶段
**C**
1. 负责检查所有表字段命名、类型格式统一
**A**
合并全局UML类图



### 📄 产出&使用工具
#### 撰写要求：
1. 使用用例图描述各个业务。
2. 分析鲁棒图列举涉及的数据项。
3. 数据项的格式为：数据项名称，数据项粗略类型（字符型、数字型、日期时间型，其他型）、数据项的简要描述。
4. 描述与数据相关的非功能性分析，如安全性分析、完整性约束等。
5. 用例图和鲁棒图需要有文字配套描述。
6. UML类图需要有部分文字描述和说明。
#### 具体产出和工具：
1. 各自 **用例图**（png图片）——draw.io
2. 各自 **用例图文字说明**（md文件）
3. 各自 **鲁棒图**（png图片）——draw.io
4. 各自 **鲁棒图文字说明**（md文件）
5. 各自 **数据字典**（Excel文件）——**Excel**
6. 各自 **局部 UML类图**（Png图片）——draw.io
7. 各自 **局部 UML类图文字说明**（md文件）
8. 全局UML类图 （png图片）——draw.io
9. 全局UML类图文字说明

---

## 🟩 第二阶段（Day 3）逻辑结构 + 物理结构设计
### ***对应小组报告中的四、五***
### 注意事项
1. **B 额外负责“全局表DDL + 外键/3NF检查”，ABCDE 各自只做自己业务线的表**
2. **全局公共表只由 B 建**
3. **外键引用只能指向：**
	1. 自己业务线的表
	2. 或 B 写的公共表
4. **剩下的外键B统一加**
### 产出
#### 第一阶段
**B**
`sql/DDL/00_global.sql`
- `Region`
- `User`
- `MonitoringDevice`
#### 第二阶段
不写跨文件外键
**A
`sql/DDL/10_biodiversity.sql`  
里面至少包含这些表的 `CREATE TABLE`：
- `Species`
- `Habitat`
- `HabitatPrimarySpecies`（N:M中间表）
- `MonitoringRecord`

**B**
 `sql/DDL/20_environment.sql`（生态环境监测业务线）
- `MonitoringIndicator`
- `EnvironmentalData
- `CalibrationRecord
- `Alert`

**C**  
`sql/DDL/30_tourism.sql`
- `Visitor`
- `Reservation
- `VisitorTrajectory`
- `FlowControl`

**D** 
`sql/DDL/40_law.sql`
- `VideoMonitorPoint`
- `IllegalBehaviorRecord`
- `LawEnforcementOfficer`
- `LawEnforcementDispatch`

**E**
`sql/DDL/50_research.sql`
- `ResearchProject`
- `ResearchDataRecord`
- `ResearchAchievement`

#### 第三阶段
**B**
1. 检查第三范式
2. 检查外键、主键是否合理
3.  `sql/DDL/90_constraints.sql`（外键/唯一/检查约束集中加）
4. 产出最终大文件`sql/DDL/99_all_in_one.sql`

---

## 🟩 第三阶段（Day 4） SQL 查询 + 测试数据 + 持久层测试
### ***对应小组报告中的五***
### 每个人都要做
- 每张表 ≥ 20 条测试数据
- 至少 **5条复杂 SQL**
    - ≥ 3 表连接
    - 聚合 / 条件 / 排序
    - 完成后针对复杂查询进行优化（调整索引、优化逻辑等），需要记录耗时
- python持久层代码
	- 封装增删查改
	- 编写测试用例验证代码的正确性与健壮性

### 📄 产出&使用工具
- SQL 文件(.sql文件)——建议用pycharm写，这样同步到github比较方便
- 查询结果截图（.png文件）——任何截图工具
	- 内容包括优化前后的运行时间
- python持久层代码(.py)——PyCharm


---

## 🟩 第四阶段 （Day 5）安全 + 视图 + 存储过程
### ***对应小组报告中的六***

### 分工重点&整体流程
#### 第一阶段
**ABCDE**
- 每条业务线：
    - ≥ 4 个视图+方案的适用范围说明md文件
    - ≥ 4 个索引+方案的适用范围说明md文件
    - ≥ 1 个存储过程+方案的适用范围说明md文件
    - ≥ 1 个触发器+方案的适用范围说明md文件
#### 第二阶段
**ABCDE**
开一次会讨论数据库安全
要求：“围绕数据安全和数据备份角度，描述系统可采取的安全策略和风险控制策略。反例：数据安全照搬教材或网上的内容，没有与业务系统结合；撰写内容含糊，仅用1-2句话糊弄了事，可操作性较差。”
#### 第三阶段
**D（安全负责人）**
- RBAC 权限模型
- 登录安全策略
- 数据备份方案
	-  设计数据备份与恢复策略，包括每日增量备份、每周全量备份，明确备份存储路径与恢复流程，确保数据安全性与可恢复性。
- 第二阶段会议中可能涉及到的其他方面



### 📄 产出&使用工具
- VIEW / PROCEDURE / TRIGGER DDL(.sql)——PyCharm
- 安全设计
	- py文件——PyCharm
	- 安全设计说明（与py文件配套的markdown说明）——任意md编辑器

---


## 🟩 第五阶段（Day 6-7）文档 + PPT + 答辩 & 提交
### 每个人都要做
- 写 **个人课程设计报告**
- 答辩
	- 每人准备 **1 分钟发言**
	- E录像
### 分工重点&整体流程
#### 第一阶段
**A/ B/ C/ D/ E:**
写个人报告
#### 第二阶段
**E**：
- 写小组报告
- 制作答辩 PPT
#### 第三阶段
**A/ B/ C/ D/ E:**
- 答辩
	- 每人准备 **1 分钟发言**
	- **E**录像
### 📄 产出&使用工具
- 小组 zip
- 个人 PDF
- PPT + 答辩录屏

---

